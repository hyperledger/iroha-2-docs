import{k as a,y as s,al as f,am as o,H as i,an as d,ao as p,ap as c,aq as m}from"./framework.B6c1f-8R.js";function x(e,n,l){return s(()=>e.fulfilled,u=>u&&n(u.value),l)}function S(e,n,l){return s(()=>e.rejected,u=>u&&n(u.reason),l)}function y(){let e=null;const n=f({pending:!1,fulfilled:null,rejected:null});function l(t){e=t,n.pending=!0,n.fulfilled=null,n.rejected=null,t.then(r=>{t===e&&(n.pending=!1,n.fulfilled=c({value:r}))}).catch(r=>{t===e&&(n.pending=!1,n.rejected=c({reason:r}))})}function u(){e=null,n.pending=!1,n.fulfilled=n.rejected=null}return{state:n,set:l,clear:u}}function P(e,n){const{state:l,set:u,clear:t}=y(),r=()=>u(e());return n!=null&&n.immediate&&r(),{state:l,run:r,clear:t}}function v(){const e=m()||o();let n=null;const l=i(null);function u(r){t(),e.run(()=>{n=o(),n.run(()=>{l.value={expose:r()}})})}function t(){n&&(n.stop(),n=l.value=null)}return{setup:u,dispose:t,scope:d(l)}}function g(e){const n=typeof e;return e===!0||n==="string"||n==="number"||n==="symbol"}function h(e){return g(e)?e:e.key}function w(e){return typeof e=="object"?e:{key:e}}function b(e){return e==null||e===!1?null:{some:e}}function T(e,n){const l=v(),u=a(()=>{const t=p(e)?e.value:e();return b(t)});return s(()=>{const t=u.value;return t?h(t.some):null},t=>{t?l.setup(()=>{if(t===!0)return{expose:n(!0)};const r=u.value.some;return{expose:n(r),...w(r)}}):l.dispose()},{immediate:!0}),a(()=>{var t;return((t=l.scope.value)==null?void 0:t.expose)??null})}export{T as a,y as b,S as c,P as u,x as w};
